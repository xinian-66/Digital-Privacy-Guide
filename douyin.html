<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>æŠ–éŸ³ (Douyin) éšç§è®¾ç½®æŒ‡å—</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        /* åŠ¨æ€å˜é‡å°†åœ¨JSä¸­æ³¨å…¥ */
        :root { --app-color: #333; --bg-color: #f4f4f4; }
        body { background-color: #161823; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; height: 100vh; display: flex; justify-content: center; align-items: center; overflow: hidden; color: #333; }
        .mobile-frame { width: 100%; max-width: 420px; height: 100%; max-height: 880px; background-color: var(--bg-color); position: relative; display: flex; flex-direction: column; overflow: hidden; }
        @media (min-width: 450px) { .mobile-frame { height: 92vh; border-radius: 24px; box-shadow: 0 0 50px rgba(254, 44, 85, 0.2); border: 8px solid #333; } }
        .top-bar { background: #161823; padding: 12px 16px; z-index: 20; border-bottom: 1px solid #2b2d36; flex-shrink: 0; color: white; }
        .swiper-container { flex: 1; overflow: hidden; position: relative; background: #161823; }
        .swiper-wrapper { display: flex; height: 100%; transition: transform 0.4s cubic-bezier(0.25, 1, 0.5, 1); }
        .swiper-slide { min-width: 100%; height: 100%; padding: 16px; box-sizing: border-box; overflow-y: auto; padding-bottom: 90px; }
        
        /* æŠ–éŸ³æš—é»‘é£æ ¼å¡ç‰‡ */
        .content-card { background: #252736; border-radius: 12px; padding: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.3); margin-bottom: 16px; border: 1px solid #2f3242; color: #e5e5e5; }
        
        /* è·¯å¾„ç»„ä»¶æ ·å¼ */
        .full-path-container { background-color: #1e202e; border: 1px dashed #3f4255; border-radius: 8px; padding: 12px; margin-bottom: 16px; }
        .path-title { font-size: 10px; font-weight: 800; color: var(--app-color); text-transform: uppercase; margin-bottom: 6px; display: flex; align-items: center; }
        .path-flow { display: flex; flex-wrap: wrap; align-items: center; gap: 6px; }
        .path-step { font-size: 12px; color: #d1d5db; background: #2f3242; padding: 4px 8px; border-radius: 4px; border: 1px solid #3f4255; font-weight: 600; white-space: nowrap; }
        .path-arrow { color: #6b7280; font-size: 10px; }
        
        /* å¼€å…³æ ·å¼ */
        .task-row { display: flex; justify-content: space-between; align-items: center; padding: 14px 0; border-bottom: 1px solid #2f3242; }
        .task-row:last-child { border-bottom: none; }
        .toggle-switch { width: 46px; height: 26px; background-color: #4b5563; border-radius: 13px; position: relative; cursor: pointer; transition: background-color 0.3s; }
        .toggle-switch::after { content: ''; position: absolute; top: 3px; left: 3px; width: 20px; height: 20px; background-color: white; border-radius: 50%; transition: transform 0.3s; box-shadow: 0 1px 3px rgba(0,0,0,0.5); }
        .toggle-switch.active { background-color: var(--app-color); }
        .toggle-switch.active::after { transform: translateX(20px); }
        
        /* åº•éƒ¨å¯¼èˆª */
        .bottom-nav { position: absolute; bottom: 0; left: 0; right: 0; background: rgba(22, 24, 35, 0.95); backdrop-filter: blur(10px); padding: 16px 20px; display: flex; justify-content: space-between; align-items: center; border-top: 1px solid #2b2d36; z-index: 30; transition: transform 0.3s; }
        .bottom-nav.hidden { transform: translateY(100%); }
        .btn-action { padding: 10px 24px; border-radius: 2px; font-weight: bold; font-size: 14px; transition: all 0.2s; border-radius: 24px;}
        .btn-primary { background: var(--app-color); color: white; box-shadow: 0 4px 12px rgba(254, 44, 85, 0.3); }
        .btn-secondary { background: #2f3242; color: #9ca3af; }

        /* æ¨¡å¼å¡ç‰‡ */
        .mode-card { background: #252736; border-radius: 16px; padding: 24px; margin-bottom: 16px; cursor: pointer; border: 2px solid transparent; transition: all 0.2s; position: relative; overflow: hidden; color: white; }
        .mode-card:active { transform: scale(0.98); }
        .mode-beginner { border-color: var(--app-color); background: rgba(254, 44, 85, 0.1); }
        .mode-expert { border-color: #4b5563; }

        /* æ–‡æ¡£æ¨¡å¼ */
        #doc-view { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: #161823; z-index: 50; transform: translateY(100%); transition: transform 0.3s; display: flex; flex-direction: column; color: #e5e5e5; }
        #doc-view.active { transform: translateY(0); }
        .doc-scroll { flex: 1; overflow-y: auto; padding: 20px; }
        .doc-item { background: #252736; padding: 16px; margin-bottom: 12px; border-radius: 8px; border: 1px solid #2f3242; }
        .doc-path-text { font-family: monospace; font-size: 11px; color: var(--app-color); background: rgba(0,0,0,0.3); padding: 4px 8px; border-radius: 4px; display: block; margin-bottom: 8px; border-left: 3px solid var(--app-color); word-break: break-all; }
        
        /* æŠ–éŸ³å›¾æ ‡åŠ¨ç”» */
        .douyin-glitch { text-shadow: 2px 0 #00f2ea, -2px 0 #fe2c55; }
    </style>
</head>
<body>

    <script>
        const APP_CONFIG = {
            // 1. APP åŸºæœ¬ä¿¡æ¯
            appName: "æŠ–éŸ³ (Douyin)",
            themeColor: "#FE2C55", // æŠ–éŸ³çº¢
            iconClass: "fab fa-tiktok", 
            author: "@YongjiWang",
            version: "v2025.12",

            // 2. æ­¥éª¤é…ç½®
            steps: [
                {
                    title: "éšç§ä¸ç¤¾äº¤è®¾ç½®",
                    path: ["æˆ‘çš„", "è®¾ç½®", "éšç§è®¾ç½®"],
                    tasks: [
                        { name: "å…³é—­ æ‰¾åˆ°æˆ‘çš„æ–¹å¼", sub: "å»ºè®®å…¨éƒ¨å…³é—­" },
                        { name: "å…³é—­ åŒåŸå±•ç¤º", sub: "ç¤¾æå»ºè®®å…³é—­" },
                        { name: "ä¸€é”®éšç§é˜²æŠ¤/ç§å¯†è´¦å·", sub: "æŒ‰éœ€å¼€å¯" },
                        { name: "é»‘åå•ç®¡ç†", sub: "ç®¡ç†å·²æ‹‰é»‘äººå‘˜" }
                    ]
                },
                {
                    title: "ç”µå•†ä¸ç›´æ’­éšç§",
                    path: ["æˆ‘çš„", "è®¾ç½®", "éšç§è®¾ç½® (ä¸‹æ»‘)"],
                    tasks: [
                        { name: "å…³é—­ å±•ç¤ºâ€œä¹°è¿‡â€æ ‡ç­¾", sub: "ä¿æŠ¤è´­ç‰©éšç§" },
                        { name: "å¼€å¯ è®¢å•å·ç ä¿æŠ¤", sub: "ä¿æŠ¤ç‰©æµéšç§" },
                        { name: "å…³é—­ çœ‹çš„ç›´æ’­æ¨èç»™æœ‹å‹", sub: "é¿å…ç¤¾æ­»" },
                        { name: "å…³é—­ ç©å®¶æ¦œå±•ç¤º", sub: "éšè—æ‰“èµè®°å½•" }
                    ]
                },
                {
                    title: "æ”¯ä»˜å®‰å…¨è®¾ç½®",
                    path: ["æˆ‘çš„", "è®¾ç½®", "æ”¯ä»˜è®¾ç½®"],
                    tasks: [
                        { name: "å…³é—­ æŠ–éŸ³å…å¯†æ”¯ä»˜", sub: "å»ºè®®å…³é—­" },
                        { name: "å…³é—­ æŠ–éŸ³æé€Ÿä»˜", sub: "å»ºè®®å…³é—­" },
                        { name: "å…³é—­ è‡ªåŠ¨ä»˜æ¬¾", sub: "å»ºè®®å…³é—­" },
                        { name: "æ”¯ä»˜é¡ºåº/ç»‘å®šè´¦å·", sub: "æŒ‰éœ€è°ƒæ•´" }
                    ]
                },
                {
                    title: "å¹¿å‘Šä¸ä¸ªäººä¿¡æ¯",
                    path: ["è®¾ç½®", "äº†è§£ä¸ç®¡ç†å¹¿å‘Šæ¨é€ / ä¸ªäººä¿¡æ¯ç®¡ç†"],
                    tasks: [
                        { name: "å…³é—­ ç¨‹åºåŒ–/ä¸ªæ€§åŒ–å¹¿å‘Š", sub: "éœ€æ»‘åˆ°åº•éƒ¨å…³é—­" },
                        { name: "å…³é—­ ä¸ªæ€§åŒ–å†…å®¹æ¨è", sub: "ä¸ªäººä¿¡æ¯ç®¡ç†ä¸­å…³é—­" },
                        { name: "ä¸ªäººä¿¡æ¯ä¸‹è½½", sub: "æŒ‰éœ€æ“ä½œ" }
                    ]
                },
                {
                    title: "é€šç”¨é€šçŸ¥ä¸çº¢ç‚¹",
                    path: ["è®¾ç½®", "é€šçŸ¥è®¾ç½® / é€šç”¨è®¾ç½®"],
                    tasks: [
                        { name: "å…³é—­ æ‰“å¼€æŠ–éŸ³åˆ·æ–°", sub: "åœ¨é€šç”¨è®¾ç½®ä¸­" },
                        { name: "å…³é—­ æœ‹å‹/å…³æ³¨é¡µçº¢ç‚¹", sub: "å‡å°‘ç„¦è™‘" },
                        { name: "å…³é—­ æ¨èæ„Ÿå…´è¶£çš„äºº/ç‰©", sub: "å»ºè®®å…¨éƒ¨å…³é—­" },
                        { name: "å…³é—­ æ´»åŠ¨é€šçŸ¥", sub: "å»ºè®®å…³é—­" }
                    ]
                },
                {
                    title: "é€šçŸ¥æ¶ˆæ¯æ·±åº¦æ¸…ç†",
                    path: ["è®¾ç½®", "é€šçŸ¥æ¶ˆæ¯ç®¡ç†"],
                    tasks: [
                        { name: "æ¨å¹¿æœåŠ¡(æ¸¸æˆ/æœ¬åœ°æ¨)", sub: "è®¾ä¸º ä¸æ¥æ”¶" },
                        { name: "é’±åŒ…/é‡‘è/æ”¯ä»˜æœåŠ¡", sub: "è®¾ä¸º ä¸æ¥æ”¶" },
                        { name: "è´­ç‰©ç¦åˆ©/ç›´æ’­ç¦è¢‹", sub: "è®¾ä¸º ä¸æ¥æ”¶" },
                        { name: "å…¶ä»–(å…¬ç›Š/å……å€¼/åé¦ˆ)", sub: "è®¾ä¸º ä¸æ¥æ”¶" }
                    ]
                },
                {
                    title: "ç³»ç»Ÿæƒé™ç®¡ç†",
                    path: ["æ‰‹æœºç³»ç»Ÿè®¾ç½®", "åº”ç”¨ç®¡ç†", "æŠ–éŸ³", "æƒé™"],
                    tasks: [
                        { name: "é€šè®¯å½•", sub: "ğŸš« ç¦æ­¢ (é˜²æ€ç†Ÿ)" },
                        { name: "å®šä½", sub: "ä½¿ç”¨æœŸé—´" },
                        { name: "éº¦å…‹é£/ç›¸æœº", sub: "ä½¿ç”¨æœŸé—´" }
                    ]
                }
            ]
        };
    </script>

    <div class="mobile-frame">
        <div class="top-bar flex justify-between items-center">
            <div>
                <h1 class="font-bold text-white flex items-center" id="app-title-el">
                    </h1>
                <div class="text-[10px] text-gray-400 mt-0.5" id="meta-info-el"></div>
            </div>
            <div class="w-24 bg-gray-700 h-1.5 rounded-full overflow-hidden">
                <div id="progress-bar" class="h-full w-0 transition-all duration-300" style="background-color: var(--app-color)"></div>
            </div>
        </div>

        <div class="swiper-container">
            <div class="swiper-wrapper" id="swiper-wrapper">
                <div class="swiper-slide flex flex-col justify-center">
                    <div class="text-center mb-8">
                        <i id="home-icon" class="text-5xl mb-4 animate-bounce douyin-glitch" style="color: white"></i>
                        <h2 class="text-2xl font-bold text-white">å¼€å§‹</h2>
                        <p class="text-gray-400 text-sm mt-2 px-8">é˜»æ–­æ•°æ®æ”¶é›†ï¼Œæ‹’ç»ç®—æ³•ç»‘æ¶ã€‚</p>
                    </div>
                    <div class="mode-card mode-beginner" onclick="startWizard()">
                        <div class="flex justify-between items-center">
                            <div>
                                <div class="font-bold text-lg" style="color: var(--app-color)">æˆ‘æ˜¯å°ç™½</div>
                                <div class="text-sm opacity-80 mt-1" style="color: var(--app-color)">é»˜è®¤æ¨èï¼šåˆ†æ­¥äº¤äº’æ•™ç¨‹</div>
                            </div>
                            <i class="fas fa-hand-pointer text-2xl opacity-50 text-white"></i>
                        </div>
                    </div>
                    <div class="mode-card mode-expert" onclick="showDocMode()">
                        <div class="flex justify-between items-center">
                            <div>
                                <div class="font-bold text-white text-lg">æˆ‘æ˜¯é«˜é˜¶ç©å®¶</div>
                                <div class="text-sm text-gray-400 mt-1">æŸ¥çœ‹å®Œæ•´è·¯å¾„æ–‡æ¡£æ¸…å•</div>
                            </div>
                            <i class="fas fa-file-lines text-gray-500 text-2xl"></i>
                        </div>
                    </div>
                </div>
                </div>
        </div>

        <div class="bottom-nav hidden" id="bottom-nav">
            <button class="btn-action btn-secondary" onclick="prevSlide()" id="btn-prev">ä¸Šä¸€æ­¥</button>
            <span class="text-xs font-bold text-gray-400" id="step-indicator"></span>
            <button class="btn-action btn-primary" onclick="nextSlide()" id="btn-next">ä¸‹ä¸€æ­¥</button>
        </div>

        <div id="doc-view">
            <div class="bg-[#161823] border-b border-gray-800 p-4 flex justify-between items-center shadow-sm z-10">
                <h2 class="font-bold text-white">éšç§è®¾ç½®æ¸…å•</h2>
                <button onclick="hideDocMode()" class="bg-gray-800 hover:bg-gray-700 w-8 h-8 rounded-full flex items-center justify-center transition"><i class="fas fa-times text-gray-400"></i></button>
            </div>
            <div class="doc-scroll" id="doc-content"></div>
        </div>
    </div>

    <script>
        // --- åˆå§‹åŒ–æ¸²æŸ“é€»è¾‘ ---
        const wrapper = document.getElementById('swiper-wrapper');
        const docContent = document.getElementById('doc-content');
        
        // 1. è®¾ç½® CSS å˜é‡
        document.documentElement.style.setProperty('--app-color', APP_CONFIG.themeColor);

        // 2. å¡«å……é¡¶éƒ¨ä¿¡æ¯
        document.getElementById('app-title-el').innerHTML = `
            <span class="w-6 h-6 rounded flex items-center justify-center mr-2 text-white text-xs" style="background-color: ${APP_CONFIG.themeColor}">
                <i class="${APP_CONFIG.iconClass}"></i>
            </span> ${APP_CONFIG.appName} è®¾ç½®æŒ‡å—`;
        document.getElementById('meta-info-el').innerText = `Author: ${APP_CONFIG.author} | Version: ${APP_CONFIG.version}`;
        document.getElementById('home-icon').className = `${APP_CONFIG.iconClass} text-5xl mb-4 animate-bounce douyin-glitch`;

        // 3. å¾ªç¯ç”Ÿæˆ Slide å’Œ æ–‡æ¡£
        APP_CONFIG.steps.forEach((step, index) => {
            const stepNum = index + 1;
            
            // --- A. ç”Ÿæˆ Slide ---
            const pathHtml = step.path.map((p, i) => {
                const arrow = i < step.path.length - 1 ? '<i class="fas fa-chevron-right path-arrow"></i>' : '';
                // æœ€åä¸€ä¸ªé«˜äº®
                const styleClass = i === step.path.length - 1 ? `border-color: ${APP_CONFIG.themeColor}; color: ${APP_CONFIG.themeColor}; background: rgba(254, 44, 85, 0.1)` : '';
                return `<span class="path-step" style="${styleClass}">${p}</span>${arrow}`;
            }).join('');

            const tasksHtml = step.tasks.map(task => `
                <div class="task-row" onclick="toggleSwitch(this)">
                    <div class="text-sm text-gray-200">
                        <div class="font-medium">${task.name}</div>
                        <div class="text-xs text-gray-500">${task.sub || ''}</div>
                    </div>
                    <div class="toggle-switch"></div>
                </div>
            `).join('');

            const slideHtml = `
                <div class="swiper-slide">
                    <div class="flex items-center mb-4">
                        <span class="text-white w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold mr-2" style="background-color: ${APP_CONFIG.themeColor}">${stepNum}</span>
                        <h3 class="font-bold text-lg text-white">${step.title}</h3>
                    </div>
                    <div class="full-path-container">
                        <div class="path-title"><i class="fas fa-route mr-1"></i> å®Œæ•´è·¯å¾„</div>
                        <div class="path-flow">${pathHtml}</div>
                    </div>
                    <div class="content-card">${tasksHtml}</div>
                </div>
            `;
            wrapper.insertAdjacentHTML('beforeend', slideHtml);

            // --- B. ç”Ÿæˆæ–‡æ¡£é¡¹ ---
            const docTaskText = step.tasks.map(t => t.name).join('; ');
            const docHtml = `
                <div class="doc-item">
                    <div class="font-bold text-gray-200 mb-2">${step.title}</div>
                    <span class="doc-path-text">è·¯å¾„: ${step.path.join(' -> ')}</span>
                    <div class="text-xs text-gray-500">æ“ä½œ: ${docTaskText}</div>
                </div>
            `;
            docContent.insertAdjacentHTML('beforeend', docHtml);
        });

        // 4. æ·»åŠ æœ€åçš„â€œå®Œæˆâ€é¡µ
        wrapper.insertAdjacentHTML('beforeend', `
            <div class="swiper-slide flex flex-col justify-center text-center">
                <i class="fas fa-check-circle text-6xl mb-6 animate-pulse" style="color: ${APP_CONFIG.themeColor}"></i>
                <h2 class="text-2xl font-bold text-white">è®¾ç½®å®Œæˆ</h2>
                <button onclick="location.reload()" class="mt-8 mx-auto px-6 py-2 border border-gray-600 rounded-full text-gray-400 text-sm hover:bg-gray-800">é‡æ–°å¼€å§‹</button>
            </div>
        `);

        // --- ä»¥ä¸‹æ˜¯é€šç”¨çš„äº¤äº’é€»è¾‘ (æ— éœ€ä¿®æ”¹) ---
        let currentSlide = 0;
        const slides = document.querySelectorAll('.swiper-slide');
        const bottomNav = document.getElementById('bottom-nav');
        const docView = document.getElementById('doc-view');
        let completedSteps = 0;
        // è®¡ç®—æ€»ä»»åŠ¡æ•°
        const totalTasks = APP_CONFIG.steps.reduce((acc, step) => acc + step.tasks.length, 0);

        function startWizard() { nextSlide(); bottomNav.classList.remove('hidden'); }
        function showDocMode() { docView.classList.add('active'); }
        function hideDocMode() { docView.classList.remove('active'); }

        function updateSlide() {
            const translateX = -(currentSlide * 100);
            wrapper.style.transform = `translateX(${translateX}%)`;
            
            if(currentSlide > 0 && currentSlide < slides.length - 1) {
                document.getElementById('step-indicator').innerText = `${currentSlide}/${slides.length - 2}`;
                const nextBtn = document.getElementById('btn-next');
                if(currentSlide === slides.length - 2) {
                    nextBtn.innerText = "å®Œæˆ";
                } else {
                    nextBtn.innerText = "ä¸‹ä¸€æ­¥";
                }
            }
            if(currentSlide === slides.length - 1) bottomNav.classList.add('hidden');
        }

        function nextSlide() { if(currentSlide < slides.length - 1) { currentSlide++; updateSlide(); } }
        function prevSlide() { if(currentSlide > 0) { currentSlide--; if(currentSlide === 0) bottomNav.classList.add('hidden'); updateSlide(); } }

        function toggleSwitch(el) {
            const toggle = el.querySelector('.toggle-switch');
            if(!toggle.classList.contains('active')) {
                toggle.classList.add('active');
                completedSteps++;
            } else {
                toggle.classList.remove('active');
                completedSteps--;
            }
            let percent = (completedSteps / totalTasks) * 100;
            if(percent > 100) percent = 100;
            document.getElementById('progress-bar').style.width = percent + '%';
        }
    </script>
</body>
</html>